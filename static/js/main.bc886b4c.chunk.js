(this["webpackJsonpreact-app-phonebook"]=this["webpackJsonpreact-app-phonebook"]||[]).push([[0],{26:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},28:function(e,t,a){e.exports=a(59)},33:function(e,t,a){},34:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(25),o=a.n(c),r=(a(33),a(26)),s=a.n(r),i=(a(34),function(){return l.a.createElement("div",{className:"fluid-container"},l.a.createElement("header",{className:"App-header"},l.a.createElement("img",{src:s.a,className:"App-logo",alt:"logo"}),l.a.createElement("h1",null,"Phone Book",l.a.createElement("br",null),l.a.createElement("span",null,"React + FireStore")),l.a.createElement("p",{className:"author"},"Ow Yeong")))}),m=a(9),d=a(1),u=a(3),p=a(8),h=a(14);a(35);h.initializeApp({apiKey:"AIzaSyBeP-OKURQn9w09xAwmTO7AWdiH9YCPHso",authDomain:"react-phonebook-c1f3e.firebaseapp.com",databaseURL:"https://react-phonebook-c1f3e.firebaseio.com",projectId:"react-phonebook-c1f3e",storageBucket:"react-phonebook-c1f3e.appspot.com",messagingSenderId:"53683243345",appId:"1:53683243345:web:44248474f13055c1e1eb70"});var b=h.firestore(),f=h.firestore,E=a(12),w=a.n(E),O=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({showOrNot:!1}),r=Object(p.a)(o,2),s=r[0],i=r[1],d=Object(n.useState)({showOrNot:!1}),h=Object(p.a)(d,2),f=h[0],E=h[1];Object(n.useEffect)((function(){var e=b.collection("contact").orderBy("lastUpdated","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(u.a)({id:e.id},e.data())}));c(t)}));return function(){e()}}),[]);var O=function(e){i({showOrNot:!0,title:"Confirm Delete Contact?",desc:"Click Yes to permenantly delete the contact. This action is could not be reverse.",targetId:e})};return l.a.createElement("div",null,l.a.createElement("div",{className:"text-center"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Type"),l.a.createElement("th",null,"Link"),l.a.createElement("th",null,"Expectation"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"App Link"),l.a.createElement("td",null,l.a.createElement("a",{href:"https://payment.tngdigital.com.my/sc/bDLnsUR1ws"},"https://payment.tngdigital.com.my/sc/bDLnsUR1ws")),l.a.createElement("td",null,"Open in app, native static payment screen.")),l.a.createElement("tr",null,l.a.createElement("td",null,"Deep Link"),l.a.createElement("td",null,l.a.createElement("a",{href:"tngdwallet://client/dl/paymentlink/bDLnsUR1ws"},"tngdwallet://client/dl/paymentlink/bDLnsUR1ws")),l.a.createElement("td",null,"Open in app if installed, native static payment screen.")),l.a.createElement("tr",null,l.a.createElement("td",null,"One Link Wrap Deep Link"),l.a.createElement("td",null,l.a.createElement("a",{href:"https://onelink.tngd.my/8mmV/ag6xnwga"},"https://onelink.tngd.my/8mmV/ag6xnwga")),l.a.createElement("td",null,"Open in app if installed, native static payment screen.")),l.a.createElement("tr",null,l.a.createElement("td",null,"One Link Wrap App Link"),l.a.createElement("td",null,l.a.createElement("a",{href:"https://onelink.tngd.my/8mmV/e57cerer"},"https://onelink.tngd.my/8mmV/e57cerer")),l.a.createElement("td",null,"Open in app if installed, native static payment screen.")))),l.a.createElement("p",{className:"small text-danger font-weight-lighter\t"},"Note: If browsing on small mobile screen, table could be scroll horizontally. Action button (Edit, Delete) located at the last column of the table"),l.a.createElement(m.b,{to:"/list/new"},l.a.createElement("button",{type:"button",className:"w-50 m-4 btn btn-success clearfix"},"Create New Contact")),l.a.createElement("br",null),l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{className:"table text-left"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"ID"),l.a.createElement("th",{scope:"col"},"Name"),l.a.createElement("th",{scope:"col"},"PhoneNumber"),l.a.createElement("th",{scope:"col"},"Action"))),l.a.createElement("tbody",null,a.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("th",{scope:"row"},e.id),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.phone),l.a.createElement("td",null,l.a.createElement(m.b,{to:"/list/".concat(e.id)},l.a.createElement("button",{type:"button",className:"btn btn-primary mb-1"},"Edit"))," ","\xa0",l.a.createElement("button",{type:"button",onClick:O.bind(void 0,e.id),className:"btn btn-danger mb-1"},"Delete")))})))))),l.a.createElement(w.a,{show:f.showOrNot,success:!0,title:f.title||"",onConfirm:function(){return E({showOrNot:!1})}},f.desc||""),l.a.createElement(w.a,{show:s.showOrNot,warning:!0,showCancel:!0,confirmBtnText:"Yes, delete it!",confirmBtnBsStyle:"danger",title:s.title||"",onConfirm:function(e){i({showOrNot:!1}),b.collection("contact").doc(e).delete().then((function(){E({showOrNot:!0,title:"Successfully delete the contact",desc:"Successfully delete the contact. You may see the changes instantly."})})).catch((function(e){alert("Some Error Occur when deleting contact. Please Try Again Later!.")}))}.bind(void 0,s.targetId),onCancel:function(){i({showOrNot:!1})}},s.desc||""))},y=function(e){var t=e.match,a=Object(n.useState)({fields:{},errors:{}}),c=Object(p.a)(a,2),o=c[0],r=c[1],s=Object(n.useState)({showOrNot:!1}),i=Object(p.a)(s,2),d=i[0],h=i[1],E=Object(n.useState)({showOrNot:!1}),O=Object(p.a)(E,2),y=O[0],g=O[1],N=t.params.id,v="new"===N,k=function(){var e=o.fields,t={},a=!0;return e.name||(a=!1,t.name="Name Cannot be empty"),e.name&&(e.name.length>50&&(a=!1,t.name="Maximum character allow for name is 50"),e.name.match(/^[a-zA-Z ()]+$/)||(a=!1,t.name="Name can only letters and symbol( -, +, (, ) )")),e.phone||(a=!1,t.phone="Phone Cannot be empty"),e.phone&&(e.phone.length>15&&(a=!1,t.phone="Maximum character allow for phone is 15"),e.phone.match(/^[0-9\-+]+$/)||(a=!1,t.phone="Only number, + or -")),r(Object(u.a)(Object(u.a)({},o),{},{errors:t})),a},x=function(e,t){var a=o.fields;a[e]=t.target.value,r(Object(u.a)(Object(u.a)({},o),{},{fields:a})),k()};return Object(n.useEffect)((function(){!1===v&&b.collection("contact").doc(N).get().then((function(e){if(e.exists){var t=Object(u.a)({id:e.id},e.data());r(Object(u.a)(Object(u.a)({},o),{},{fields:t}))}else v||(window.location.href="/react-app-phonebook/list/new")})).catch((function(){}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{className:"container text-center"},l.a.createElement("h2",{className:"my-3"},v?"New Contact":"Edit Contact"),l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"id"},"Id"),l.a.createElement("input",{disabled:!0,type:"text",className:"form-control",id:"exampleFormControlInput1",placeholder:"id",value:o.fields.id||""})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleFormControlInput1"},"Contact Name"),l.a.createElement("input",{className:"form-control",placeholder:"Name",type:"text",onChange:x.bind(void 0,"name"),value:o.fields.name||""}),l.a.createElement("div",{className:"invalid-feedback d-block text-left"},o.errors.name||"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleFormControlInput1"},"Contact Phone"),l.a.createElement("input",{type:"text",className:"form-control",onChange:x.bind(void 0,"phone"),placeholder:"xxx-xxxxxxx",value:o.fields.phone||""}),l.a.createElement("div",{className:"invalid-feedback d-block text-left"},o.errors.phone||""))),l.a.createElement("button",{onClick:function(){k()?v?b.collection("contact").add(Object(u.a)(Object(u.a)({},o.fields),{},{lastUpdated:f.FieldValue.serverTimestamp()})).then((function(){h({showOrNot:!0,title:"Successfully Created the contact",desc:"Successfully Created the contact into the database. You may see the changes instantly."})})).catch((function(e){g({showOrNot:!0,title:"Error!",desc:"Some error occur please try again later."})})):b.collection("contact").doc(N).set(Object(u.a)(Object(u.a)({},o.fields),{},{lastUpdated:f.FieldValue.serverTimestamp()})).then((function(){h({showOrNot:!0,title:"Successfully Updated the contact",desc:"Successfully Updated the contact into the database. You may see the changes instantly."})})).catch((function(e){g({showOrNot:!0,title:"Error!",desc:"Some error occur please try again later."})})):g({showOrNot:!0,title:"Error!",desc:"Form contains error. Please amend it based on the instruction provided."})},className:"btn btn-success mr-2"},v?"Create New Contact":"Edit Contact"),l.a.createElement(m.b,{to:"/"},l.a.createElement("button",{className:"btn btn-secondary"},"Cancel"))),l.a.createElement(w.a,{show:d.showOrNot,success:!0,title:d.title||"",onConfirm:function(){window.location.href="/react-app-phonebook/"}},d.desc||""),l.a.createElement(w.a,{show:y.showOrNot,danger:!0,title:y.title||"",onConfirm:function(){g({showOrNot:!1})}},y.desc||""))};var g=function(){return l.a.createElement(m.a,null,l.a.createElement("div",null,l.a.createElement(i,null),l.a.createElement(d.c,null,l.a.createElement(d.a,{path:"/",exact:!0,component:O}),l.a.createElement(d.a,{path:"/list/:id",component:y}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(58);o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.bc886b4c.chunk.js.map